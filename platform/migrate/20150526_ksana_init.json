{
	"version": "20150526",
	"up": "CREATE TABLE IF NOT EXISTS users(id SERIAL, email VARCHAR(127), first_name VARCHAR(31) NOT NULL, middle_name VARCHAR(31), last_name VARCHAR(31) NOT NULL, token VARCHAR(63) NOT NULL DEFAULT ' ', provider VARCHAR(15) NOT NULL DEFAULT 'local', locked TIMESTAMP, confirmed TIMESTAMP, updated TIMESTAMP, created TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP);CREATE TABLE IF NOT EXISTS contacts(id SERIAL, user_id INT NOT NULL DEFAULT 0, type VARCHAR(15) NOT NULL, val VARCHAR(511) NOT NULL);CREATE TABLE IF NOT EXISTS settings(id VARCHAR(127) NOT NULL, val BYTEA NOT NULL, iv BIT(32) NOT NULL);CREATE TABLE IF NOT EXISTS logs(id SERIAL, mesage VARCHAR(255) NOT NULL, created TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP);CREATE TABLE IF NOT EXISTS roles(id SERIAL, name VARCHAR(31) NOT NULL, r_id INT NOT NULL DEFAULT 0, r_type VARCHAR(255) NOT NULL, startup DATE NOT NULL DEFAULT CURRENT_DATE, shutdown DATE NOT NULL DEFAULT '9999-12-31', created TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP);CREATE TABLE IF NOT EXISTS users_roles(user_id INT NOT NULL DEFAULT 0, role_id INT NOT NULL DEFAULT 0);CREATE UNIQUE INDEX users_provider_token_idx ON users (provider, token);CREATE INDEX users_email_idx ON users (email);CREATE INDEX users_first_name_idx ON users (first_name);CREATE INDEX users_last_name_idx ON users (last_name);CREATE INDEX users_middle_name_idx ON users (middle_name);CREATE INDEX contacts_user_id_type_idx ON contacts (user_id, type);CREATE UNIQUE INDEX settings_id_idx ON settings (id);CREATE UNIQUE INDEX roles_name_r_id_r_type_idx ON roles (name, r_id, r_type);CREATE INDEX roles_name_idx ON roles (name);CREATE INDEX roles_r_type_idx ON roles (r_type);CREATE UNIQUE INDEX users_roles_user_id_role_id_idx ON users_roles (user_id, role_id);",
	"down": "DROP TABLE IF EXISTS users;DROP TABLE IF EXISTS contacts;DROP TABLE IF EXISTS settings;DROP TABLE IF EXISTS logs;DROP TABLE IF EXISTS roles;DROP TABLE IF EXISTS users_roles;"
}